<!DOCTYPE html>
<html>
<head>
	<title>promise</title>
</head>
<body>
<script>

/*
	Promise是一个构造函数,
	它接收一个函数作为参数,
	该函数的两个参数分别是resolve和reject,
	resolve()方法和reject()方法，由JavaScript引擎提供，不用自己部署;
	resolve()方法的作用：将Promise对象的状态从"未完成"变为"成功"(即从Pending变为Resolved),在异步操作成功时调用，并将异步操作的结果作为参数传递出去;
	reject()方法作用：将Promise对象的状态从"未完成"变为"失败"(即从Pending变为Rejected),在异步操作失败时调用，并将异步操作报出的错误，作为参数传递出去;
*/



/*
	//创造一个Promise实例
	var promise=new Promise(function(resolve,reject){
		//some code
		 if(){//异步操作成功
		 	resolve(value);
		 }else{
		 	reject(error);
		 }
	});
*/



/*
//Promise实例生成以后，可以用then()方法分别指定Resolved状态和Reject状态的回调函数。
var promise=new Promise(function(resolve,reject){

});
promise.then(function(value){
	//success
},function(err){
	//failure
});



promise实例对象的then()方法可以接受两个回调函数作为参数,
第一个回调函数是Promise对象的状态变为Resolved时调用，
第二个回调函数是Promise对象的状态变为Reject时调用，
其中，第二个参数是可选的，这两个函数都接受Promise对象传出的值作为参数；
*/




/*
//Promise对象例子
function timeout(ms){
	return new Promise((resolve,reject) =>{
		setTimeout(resolve,ms,"done");
	});
}
timeout(100).then((value) =>{
	console.log(value);//done
});
*/




/*
Promise新建后会立即执行
let promise=new Promise(function(resolve,reject){
	console.log("Promise");
	resolve();
});
promise.then(function(){
	console.log("Resolved");
});
console.log("Hi");
//上面代码的执行结果：Promise  Hi Resolved
*/




</script>
</body>
</html>